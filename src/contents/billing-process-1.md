---
title: '빌링 프로세스 1'
linkTo: 'billing-process-2'
---

# 빌링 프로세스 1

> 빌링 프로세스에 대한 정리하는 글

## 빌링 기본 정의

VM에 대한 과금 정보 혹은 과금에 대한 설정을 할 수 있는 개념

## 과금 모델

각 자원에 대해 어느 정도의 과금을 하는지 과금 단위, 과금 단가로 각 자원에 대해 얼마나 과금을 시키는지 설정할 수 있음. (모델 단위로) 각 모델 단위는 활성화/비활성화 시킬 수 있으며 과금 모델 관리 버튼으로 생성하는 신규 과금 모델은 현재 활성화 되어 있는 모델의 정보를 그대로 복제한다.

해당 자원이 월에 어떤 단위로 어떤 가격으로 책정되는 지를 정할 수 있다. 소프트웨어 외 자원은 현재 추가할 수 없으며 소프트웨어 항목에서는 표준 과금 등록 버튼으로 자원에 대해 과금을 걸 수 있다.

과금 등록은 미터링 - S/W 라이선스에 등록된 서비스 항목 중 하나로 설정하여 항목 이름은 그 서비스의 이름으로 설정된다. 서비스 당 과금 단위/단가를 정하는데, 단위에는 `vCore`, `Core`, `OS`, `GB`, `GPU`, `Slice GPU`가 있다. 입력한 단위 수가 2고 과금 단가가 `50,000`원이라면 2 Core 당 월에 5만원이라는 가격이 청구된다.

비고에는 과금에 대한 설명을 작성한다.

## 배부 모델

관계사 몇 개를 묶어 기준으로 잡은 값으로 백분율을 매긴 다음 과금을 배분할 수 있다. 기본 관계사로 선택한 관계사들 중 공통되는 관계사를 또 한번 묶어 그 관계사 안에서 과금을 다시한번 배분할 수 있다. 배부 모델을 생성하게 되면 카테고리가 여러 생기는데, 이 카테고리는 사용자 페이지 공통 관계사에 나타나고 신규 프로젝트를 생성하면 배부 모델 하위 카테고리가 생긴다.

배부 기준 값을 관계사 별로 매기면 배부 기준 값을 모두 합해 관계사 수로 나누어 백분율로 계산된다.

과금 배치시 해당 배부 모델로 공통배분을 지정할 수 있다.

## 서버별 보정 모델

VM 단위로 과금되는 금액을 조정할 수 있다. 서버별 보정 모델에서는 자원에 대해 금액을 더 부과하거나 금액을 깍을 수 있다. 또, 회선 금액 혹은 소산 금액을 지정하여 과금을 시킬 수 있다. 해당 모델은 과금 배치에서 사용되면 등록하거나 변경, 삭제 등이 불가능하다.

## 관계사별 보정 모델

서버별 보정 모델이 VM 단위로 금액을 조정하는 거라면 관계사별 보정 모델에서는 관계사의 VM에 대한 금액을 조정할 수 있다. 보정 모델의 항목을 등록하면 해당 관계사에서 사용하는 VM에 금액이 조정된다. 보정 사유를 작성할 수 있다.

## 과금 배치

VM이 어떻게 과금되는지 여기서 결정한다. 설정된 과금년월에 과금 대상인 VM들에 대해서 과금 모델을 정하면 보정 모델을 추가하기 전 금액인 데이터들이 계산된다. 리포트 데이터 상세 보기로 확인할 수 있으며 전 달 대비 증감 내역도 확인할 수 있다. 서버 보정 모델과, 관계사 보정 모델 그리고 배부 모델까지 선택후 확정시키면 보정, 회선, 소산, 공통배분까지 적용된 금액이 표시된다.

마찬가지로 전 달 대비 증감 내역을 확인할 수 있다.

## 과금 시작 일

사용자에서 자원 추가할 때 정하는 서비스 개시일은 단순히 알림용이고 사전협의에 자원이 담긴 후 승인이 되고 할일로 넘어가서 작업 완료가 되면 한일로 넘어가는데, 한일로 넘어간 시간을 기준으로 과금이 시작되지만 어드민 관리 > 환경설정 > 일반 설정에 설정되어 있는 과금 시작일을 기준으로 과금이 시작된다.

예를 들어, 일반 설정에는 과금 시작일이 1일 후로 설정되어 있고, 자원을 4월 1일날 신청한 후 3일날 승인됬고 4일에 작업이 모두 완료되었다면 4월 5일부터 과금이 시작된다.

이후 30일까지 과금이 되고, 각 자원은 일 단위로 계산된다. 리포트/빌링 상세에 나타나는 데이터는 몇 개의 조건을 제외하고 30일 까지의 과금이 표기된다.

## 삭제된 자원과 삭제 예정인 자원

과금 배치를 찍은 시점에 삭제된 자원은 과금 리스트에 나타나진 않지만 삭제 예정인 자원은 표기된다. 4월 1일날부터 과금이 시작됬고 8일날 자원이 삭제 예정이라면 1일부터 8일까지의 VM 과금 단가만 계산하여 표기된다.
